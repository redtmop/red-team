If we have compromised a domain-joined workstation in the context of a domain user, we can query the domain controller with the native setspn:

```
setspn -T corp1 -Q MSSQLSvc/*
```
Or using a powershell script GetUserSPNs.ps1:
```
> . .\GetUserSPNs.ps1
```

